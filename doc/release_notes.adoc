= Release Notes
Jonathan Dowland <jon@dow.land>; Wouter van Oortmerssen
:toc:
:toc-placement!:
:toclevels: 5
:toc-title:
:homepage: http://jmtd.net/wadc/

This lists changes made in each release. For a description of all
current features, see link:reference.adoc[the Reference].

== Table of Contents

toc::[]

== Dev

Not yet released.

=== Core program changes

 * Internationalisation support.
   * Partial french translation adapted from @nekrofage. Thanks!

=== Example scripts

 * `logo.wl` - draws the letters "WadC".
 * The "pipes" stuff in examples/beta has had a lot of revising.

=== Bug fixes

 * You can now use `popsector` more than once. This means you
   can have an inner sector within an inner sector within an
   outer one, to an arbitrary depth.
 * `water.h` can now be used with inner-sectors.
 * The GUI is now listed as "WadC" rather than "MainFrame" in
   various places such as the Mac OS X menu bar.

=== Development stuff

 * WadC is now built using Maven. This has some implications:

   * The source has all moved around and we have an obsence number
     of subdirectories. Sigh. There are a few convenience symlinks
     to make life easier.
   * The program's version is now embedded as a property rather
     than being an auto-generated Java class.

== 2.0

Released 22^nd^ September 2015.

=== Core program changes

==== Distribution and runtime requirements

The WadC binary distribution is now a JAR file. On most platforms,
simply double-clicking on the JAR should launch the program. WadC
is no longer sensitive to the directory from which it is launched.

WadC now requires Java version 1.8 or newer to run or build. It has been
tested only with

* java version "1.8.0_45"
* javac 1.8.0_45

==== Sneak-peek: command-line interface

There is a very early-stages command-line interface now available. To
launch it, you need to run

    java -cp wadc.jar org.redmars.wadc.WadCC path/to/input.wl

It will attempt to parse, run and write out to path/to/output.wad. Be
aware that this is alpha quality, consider this a tech preview :)

==== configuration file syntax and location

wadc.cfg is no longer written/read from the current working directory. On
Windows, it's found at `%USERHOME%/.wadc/wadc.cfg`, on UNIX platforms it
looks in `$HOME/.wadc`. Examples

 c:\Users\Your Name\.wadc
 /Users/Jon/.wadc
 /home/you/.wadc

The configuration option `doomcmd` no longer exists. It has been replaced
with

`doomexe`::  path to your preferred doom executable
`doomargs`:: arguments to pass to your preferred doom executable, +
             separated by whitespace. This should end with '`-file`'.

The reason for this is to allow you to supply a `doomexe` containing
whitespace in the path.

If you have defined any of `twad1`, `twad2` or `twad3` in your
configuration, they will be added to the doom command line, immediately
after your `doomargs`, and before the path to the WAD you are building.

==== Embedded WadC code

WadC now writes out the source code for your level to the generated WAD
in a `WADCSRC` lump. Any locally included files are also included, but
standard library files (from within the Jar) are not.

If you define any new textures, WadC will write a `TEXTURE2` lump.  If you add
any patches to new textures which are not in your IWAD, A new `PNAMES` lump
will be generated and written. You need to have specified a path to an IWAD
file in your configuration for this to work.

=== Language features

`die(foo)`::   prints foo, then terminates.
`cat(a, b)`::  concatenates a and b
`seed(x)`::    seeds the random-number generator for reproducibility
`newtag`::     generate and return a new unique tag number
`texture`::    begins the definition of a new texture, to combine with `addpatch`
`addpatch`::   adds a patch to the currently defined texture
`deaf`::       `mute` has been renamed to `deaf`.
`getbot`, `getmid`, `gettop`, `getfloor`, `getceil`::    Accessor functions for the current texture or flat in use

==== Library additions

`lisp.h`::  lisp-style lists (broken out from `examples/lisp.wl`)
`water.h`:: Boom deep water tools

within `standard.h`:

 * `inc` and `dec`, convenient for increment/decrementing a variable
 * `fori` and `i`, the `for` loop but you can read the value of the iterator

==== New examples

`textures.wl`:: demonstrating the texture features
`llevels.wl`::  test WAD using texture features
`water.wl`::    demonstrating the Boom water helpers
"beta"::        directory containing my unfinished stuff

=== Bug fixes

Fix map view zooming with mouse clicks on non-Windows platforms.

The paths to the file you are editing, the corresponding generated WAD file,
your preferred Doom executable and any texture WADs you have defined can now
contain spaces or other special characters.

== 1.2

Released December 2011.

* First release by Jon Dowland.
* Doom features:
  - `friendly` flag - toggle boom friendly monsters
  - `impassable` flag - toggle impassable 2s lines
  - `midtex` flag - toggle middle-textures on 2s lines
* new examples:
  - `1.2_features.wl` - demo the new features above
  - `entryway.wl` - a recreation of Doom 2 MAP01 in WadC, thanks GreyGhost

== 1.1

Released July 2001.

* Doom features:
  - auto texturing (!)
  - zdoom/hexen wad format support, slopes etc.
  - "world coordinates" xoff alignment
  - explicit sector assignment
* UI features:
  - improved mouse editing & preview window
* language features:
  - eager evaluation of function arguments
  - global variables and objects
  - stacktraces in runtime error messages
  - new math functions: sin/asin
* distribution features:
  - more examples / useful include files
  - many small enhancements/fixes

== 1.0: first public release

Released October 2000.

* UI features:
  - generating code by drawing lines with the mouse (!)
  - zooming & panning
  - map rendering enhancements
* Doom features:
  - automatic splitting of overlapping lines (!)
  - curves with automatic texture alignment
  - inner sectors
  - thing/line/sector types
  - arches (experimental)
  - tag identifiers
* language features:
  - include files (with many Doom constants supplied)
  - a random choice operator
* distribution features:
  - more examples etc.
  - comes with source (GPL)

== 0.9: initial beta

Dates from around July 1999.

some may have seen this.
